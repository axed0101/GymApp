<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Workout Plan (Offline)</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#111111">
  <style>
    :root{--bg:#0f0f10;--panel:#17181b;--muted:#9aa0a6;--text:#e8eaed;--line:#2a2c31;--accent:#7aa2ff;}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--text);height:100vh;display:flex}
    header{padding:12px 14px;border-bottom:1px solid var(--line);display:flex;gap:10px;align-items:center}
    .app{width:100%;display:grid;grid-template-columns:320px 1fr;height:100vh}
    .sidebar{background:var(--panel);border-right:1px solid var(--line);display:flex;flex-direction:column;min-width:280px}
    .main{display:flex;flex-direction:column;min-width:0}
    input,button,select,textarea{font:inherit}
    .search{padding:10px 14px;border-bottom:1px solid var(--line);display:flex;gap:8px}
    .search input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#101114;color:var(--text)}
    .pill{padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#101114;color:var(--muted);cursor:pointer}
    .pill.active{border-color:var(--accent);color:var(--text)}
    .list{overflow:auto;padding:8px 8px 12px}
    .sectionTitle{padding:10px 10px 6px;color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.08em}
    .item{padding:10px 10px;border-radius:12px;cursor:pointer;border:1px solid transparent}
    .item:hover{background:#131419;border-color:#23252b}
    .item.active{background:#111826;border-color:#2a3c66}
    .item small{display:block;color:var(--muted);margin-top:4px}
    .toolbar{display:flex;gap:10px;align-items:center;padding:10px 14px;border-bottom:1px solid var(--line);flex-wrap:wrap}
    .toolbar .title{font-weight:650}
    .toolbar .muted{color:var(--muted);font-size:13px}
    .btn{padding:9px 12px;border-radius:12px;border:1px solid var(--line);background:#101114;color:var(--text);cursor:pointer}
    .btn:hover{border-color:#3a3d45}
    .content{overflow:auto;padding:12px 14px}
    .hint{color:var(--muted);font-size:13px;line-height:1.4}
    table.grid{border-collapse:separate;border-spacing:0; width:max-content; max-width:100%}
    table.grid td, table.grid th{border:1px solid var(--line);padding:6px 8px;vertical-align:top;background:#0f1013;min-width:90px;max-width:420px;white-space:pre-wrap;word-break:break-word}
    table.grid th{position:sticky;top:0;background:#14151a;z-index:2}
    table.grid td:first-child, table.grid th:first-child{position:sticky;left:0;background:#14151a;z-index:1}
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    .split{display:grid;grid-template-columns:1fr;gap:14px}
    .card{border:1px solid var(--line);background:#121318;border-radius:16px;padding:12px 12px}
    .card h3{margin:0 0 8px 0;font-size:14px}
    textarea{width:100%;min-height:90px;padding:10px 12px;border-radius:12px;border:1px solid var(--line);background:#101114;color:var(--text)}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .row input, .row select{padding:10px 12px;border-radius:12px;border:1px solid var(--line);background:#101114;color:var(--text)}
    .row input{min-width:160px}
    .logList{display:flex;flex-direction:column;gap:10px}
    .logItem{border:1px solid var(--line);border-radius:14px;padding:10px 10px;background:#0f1013}
    .logItem .meta{display:flex;gap:10px;flex-wrap:wrap;color:var(--muted);font-size:12px}
    .logItem .txt{margin-top:6px;white-space:pre-wrap}
    .danger{border-color:#5a2a2a}
    @media (max-width: 860px){
      body{height:auto}
      .app{grid-template-columns:1fr}
      .sidebar{height:auto}
    }
  </style>
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <header>
      <div style="display:flex;flex-direction:column;gap:2px">
        <div style="font-weight:750">Workout Plan</div>
        <div style="font-size:12px;color:var(--muted)">Offline • iPhone Home Screen</div>
      </div>
    </header>

    <div class="search">
      <input id="q" placeholder="Cerca sheet o esercizio…" autocomplete="off" />
    </div>

    <div class="search" style="border-bottom:none;padding-top:0">
      <button class="pill active" id="tab-plan">Piano</button>
      <button class="pill" id="tab-ex">Esercizi</button>
      <button class="pill" id="tab-log">Log</button>
    </div>

    <div class="list" id="list"></div>
  </aside>

  <main class="main">
    <div class="toolbar">
      <div class="title" id="title">Caricamento…</div>
      <div class="muted" id="subtitle"></div>
      <div style="flex:1"></div>
      <button class="btn" id="btnExport">Esporta backup</button>
      <button class="btn danger" id="btnReset">Reset dati locali</button>
    </div>
    <div class="content" id="content">
      <div class="hint">Sto caricando i dati…</div>
    </div>
  </main>
</div>

<script src="app.js"></script>
</body>
</html>
